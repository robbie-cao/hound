#include <stdio.h>#include <stdlib.h>#include <stdint.h>int p[] = { 30, 35, 15, 5, 10, 20, 25 };#define N   (sizeof(p) / sizeof(p[0]))uint32_t m[N][N];uint32_t s[N][N];int matrix_chain_order(int *_p, int n, uint32_t _m[N][N], uint32_t _s[N][N]){    for (int i = 1; i <= n; i++) {        _m[i][i] = 0;    }    for (int l = 2; l <= n; l++) {        for (int i = 1; i <= n - l + 1; i++) {            int j = i + l - 1;            uint32_t q = 0;            _m[i][j] = (uint32_t)(-1);            for (int k = i; k <= j - 1; k++) {                q = _m[i][k] + _m[k + 1][j] + _p[i - 1] * _p[k] * _p[j];                if (q < _m[i][j]) {                    _m[i][j] = q;                    _s[i][j] = k;                }            }        }    }    return 0;}void print_optimal_parens(uint32_t _s[N][N], int i, int j){    if (i == j) {        printf("A%d", i);    } else {        printf("(");        print_optimal_parens(_s, i, s[i][j]);        print_optimal_parens(_s, s[i][j] + 1, j);        printf(")");    }}int main(int argc, char *argv[]){    int i, j;    matrix_chain_order(p, N - 1, m, s);    print_optimal_parens(s, 1, N - 1);    printf("\n");    for (i = 1; i < N; i++) {        for (j = i; j < N; j++) {            printf("%d\t", m[i][j]);        }        printf("\n");    }    printf("\n");    for (i = 1; i < N; i++) {        for (j = i; j < N; j++) {            printf("%d\t", s[i][j]);        }        printf("\n");    }    return 0;}